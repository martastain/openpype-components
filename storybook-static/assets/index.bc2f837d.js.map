{"version":3,"file":"index.bc2f837d.js","sources":["../../src/Overlay/Dialog/Dialog.tsx"],"sourcesContent":["import { KeyboardEvent, MouseEvent, forwardRef, useMemo } from 'react'\nimport styled, { css } from 'styled-components'\nimport { Button } from '../../Button'\n\nconst Shade = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 500;\n  cursor: pointer;\n`\n\nconst DialogWindow = styled.div<{ noHeader: boolean }>`\n  background-color: var(--color-grey-01);\n  border-radius: var(--border-radius);\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 12px;\n  min-width: 200px;\n  min-height: 100px;\n  max-width: 85%;\n  max-height: 85%;\n  position: relative;\n  cursor: auto;\n  :focus {\n    outline: none;\n  }\n\n  /* add padding to top if no header */\n\n  ${({ noHeader }) =>\n    noHeader &&\n    css`\n      padding-top: 46px;\n    `}\n`\n\nconst BaseDialogEdge = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 6px;\n`\n\nconst DialogHeader = styled(BaseDialogEdge)`\n  font-weight: bold;\n  border-bottom: 1px solid var(--color-surface-04);\n  padding: 16px 0;\n`\n\nconst DialogFooter = styled(BaseDialogEdge)`\n  border-top: 1px solid var(--color-surface-04);\n  padding: 16px 0;\n`\n\nconst DialogBody = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  flex-grow: 1;\n`\n\nconst ButtonStyled = styled(Button)`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n`\n\nexport interface DialogProps extends React.HTMLAttributes<HTMLDivElement> {\n  onHide?: () => void\n  header?: React.ReactNode\n  footer?: React.ReactNode\n  children?: React.ReactNode\n  headerStyle?: React.CSSProperties\n  bodyStyle?: React.CSSProperties\n  footerStyle?: React.CSSProperties\n  visible?: boolean\n}\n\nexport const Dialog = forwardRef<HTMLDivElement, DialogProps>(\n  (\n    { onHide, header, footer, children, headerStyle, bodyStyle, footerStyle, visible, ...props },\n    ref,\n  ) => {\n    const headerComp = useMemo(() => {\n      if (!header) return null\n      return <DialogHeader style={headerStyle}>{header}</DialogHeader>\n    }, [header])\n\n    const footerComp = useMemo(() => {\n      if (!footer) return null\n      return <DialogFooter style={footerStyle}>{footer}</DialogFooter>\n    }, [header])\n\n    const onShadeClick = (event: MouseEvent<HTMLDivElement>): void => {\n      if (event.currentTarget != event.target) return\n      if (!onHide) return\n      event.preventDefault()\n      onHide()\n    }\n\n    const onKeyDown = (event: KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'Escape' && onHide) onHide()\n    }\n\n    if (!visible) return null\n\n    return (\n      <Shade className=\"dialog-shade\" onClick={onShadeClick} onKeyDown={onKeyDown} ref={ref}>\n        <DialogWindow {...props} onKeyDown={onKeyDown} tabIndex={-1} noHeader={!headerComp}>\n          <ButtonStyled icon=\"close\" autoFocus onClick={onHide} />\n          {headerComp}\n          <DialogBody style={bodyStyle}>{children}</DialogBody>\n          {footerComp}\n        </DialogWindow>\n      </Shade>\n    )\n  },\n)\n"],"names":["Shade","styled","DialogWindow","div","noHeader","css","BaseDialogEdge","DialogHeader","DialogFooter","DialogBody","ButtonStyled","Button","Dialog","forwardRef","onHide","header","footer","children","headerStyle","bodyStyle","footerStyle","visible","ref","headerComp","useMemo","_jsx","footerComp","onShadeClick","event","onKeyDown","props"],"mappings":"2KAIA,MAAAA,EAAAC,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAeAC,EAAAD,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA4BE,CAAAA,CAmBvB,SAAAC,CAAW,IAAAA,GAAAC;AAAAA;AAAAA;AAAAA,EAOhBC,EAAAL,EAAA;AAAA;AAAA;AAAA;AAAA,EAMAM,EAAAN,EAAAK,CAAA;AAAA;AAAA;AAAA;AAAA,EAMAE,EAAAP,EAAAK,CAAA;AAAA;AAAA;AAAA,EAKAG,EAAAR,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOAS,EAAAT,EAAAU,CAAA;AAAA;AAAA;AAAA;AAAA,EAiBOC,EAAAC,EAAA,QAAA,WAAA,CAAA,CAEH,OAAAC,EAAEA,OAAAA,EAAQC,OAAAA,EAAQC,SAAAA,EAAQC,YAAAA,EAAUC,UAAAA,EAAaC,YAAAA,EAAWC,QAAAA,KAAaC,CAAkB,EAAAC,IAAA,CAG3F,MAAAC,EAAAC,EAAAA,QAAAA,QAAA,IACET,EACAU,EAAAlB,EAAA,CAAoB,MAAAW,EAAQA,SAAAA,CAAcH,CAAAA,EAD7B,KACmD,CAAAA,CAAA,CAAA,EAGlEW,EAAAF,EAAAA,QAAAA,QAAA,IACER,EACAS,EAAAjB,EAAA,CAAoB,MAAAY,EAAQA,SAAAA,CAAcJ,CAAAA,EAD7B,KACmD,CAAAD,CAAA,CAAA,EAGlEY,EAAAC,GAAA,CACEA,EAAA,eAAAA,EAAA,SACA,CAAAd,IACAc,EAAAA,eAAAA,EACAd,KAAQ,EAGVe,EAAAD,GAAA,CACEA,EAAA,MAAA,UAAAd,GAAsCA,GAAQ,EAGhD,OAAAO,EAEAI,EAAAzB,EAAA,CACQ,UAAA,eAAW,QAAA2B,EAAwBA,UAAAA,EAAcE,IAAAA,EAAsBP,SAAAA,EAAAA,EAAAA,CAC9D,GAAAQ,EAAKA,UAAAA,EAAOD,SAAAA,GAAgC,SAAA,CAAAN,EAAeA,SAAAA,CAAAA,EAAAA,EAAAA,CACzD,KAAA,QAAM,UAAA,GAAiB,QAAAT,CAAUA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAEnC,MAAAK,EAAQA,SAAAA,CAAUF,CAAAA,EAAAA,CAAAA,CAClB,CAAA,CAAA,CAAA,EARH,IAYhB,CAAA"}